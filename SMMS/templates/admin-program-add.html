{% extends "base.html" %}
{% load static %}
  {% block title %}Add New Program{% endblock %}
  {% block content %}
    <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f1f5f9;
      margin: 0;
    }
    .color {
        background-color: #0b57a4;
        border-radius: 30px 30px 0 0;
        padding:25px 0;

    }
    .container-x {
      background-color: #ffffff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      max-width: 900px;
      margin: auto;
        padding: 0 !important;
    }
        .box {
      padding: 30px;
    }
    h1 {
      font-size: 26px;
      font-weight: 700;
      color: #ffffff;
    }
    .form-group {
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #374151;
      font-size: 14px;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px 14px;
      font-size: 14px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      background-color: #f9fafb;
      color: #111827;
      outline: none;
      transition: border-color 0.2s;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #2563eb;
    }
    textarea {
      min-height: 100px;
      resize: vertical;
    }
    .row {
      display: flex;
      gap: 20px;
    }
    .row .form-group {
      flex: 1;
    }
    .actions {
      text-align: center;
      margin-top: 30px;
    }
    button {
      background-color: #0b5ed7;
      color: #ffffff;
      font-weight: 600;
      padding: 12px 30px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    button:hover {
      background-color: #084298;
    }
    {
        background-color: #084298;
    }
  </style>
</head>
<body class="admin-body">
<div class="admin-main">
    <section class="page-header">
      <div class="header-content">
        <div class="page-title">
          <h1>Add New Program</h1>
          <p>Fill in the details below to add a new program.</p>
        </div>
    </div>
    </section>
<div class="container-x">
<center>
  <div class="color">
    <h1>Add New Program</h1></div>
<div class="box">
  <form id="add-program-form">

    <div class="form-group">
      <label>Program Title</label>
      <input type="text" id="program_title" placeholder="e.g., Complete Trading Program (CTP)" required>
    </div>

    <div class="row">
      <div class="form-group">
        <label>Duration (Months)</label>
        <input type="number" id="duration_months" placeholder="e.g., 3" required>
      </div>
      <div class="form-group">
        <label>Number of Classes</label>
        <input type="number" id="num_classes" placeholder="e.g., 24" required>
      </div>
      <div class="form-group">
        <label>Students Enrolled</label>
        <input type="number" id="students_enrolled" placeholder="e.g., 852">
      </div>
    </div>

    <div class="row">
      <div class="form-group">
        <label>Program Price (â‚¹)</label>
        <input type="number" id="program_price" placeholder="e.g., 19999" required>
      </div>
      <div class="form-group">
        <label>Revenue Generated</label>
        <input type="text" id="revenue" placeholder="e.g., 42.6L">
      </div>
    </div>

    <div class="row">
      <div class="form-group">
        <label>Rating</label>
        <input type="number" step="0.1" id="rating" placeholder="e.g., 4.8" required>
      </div>
      <div class="form-group">
        <label>Completion %</label>
        <input type="number" id="completion_percentage" placeholder="e.g., 92" required>
      </div>
    </div>

    <div class="form-group">
      <label>Program Description</label>
      <textarea id="program_description" placeholder="e.g., Covers basics to advanced concepts with personalized mentorship..." required></textarea>
    </div>

    <div class="row">
      <div class="form-group">
        <label>Program Status</label>
        <select id="program_status" required>
          <option value="">Select Status</option>
          <option value="Active">Active</option>
          <option value="Inactive">Inactive</option>
          <option value="Upcoming">Upcoming</option>
        </select>
      </div>
      <div class="form-group">
        <label>Featured Program?</label>
        <select id="is_featured" required>
          <option value="">Select</option>
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label>Program Image</label>
      <input type="file" id="program_image">
    </div>

    <div class="actions">
      <button type="button" onclick="submitProgram()">Save Program</button>
    </div>
  </center>
  </form>
</div>
</div>
</div>
{% block footer%}
{%endblock%}
<script src="{% static 'js/admin.js' %}"></script>
<script>
function submitProgram() {
  const programData = {
    title: document.getElementById('program_title').value.trim(),
    durationMonths: parseInt(document.getElementById('duration_months').value),
    numClasses: parseInt(document.getElementById('num_classes').value),
    studentsEnrolled: parseInt(document.getElementById('students_enrolled').value) || 0,
    price: parseFloat(document.getElementById('program_price').value),
    revenue: document.getElementById('revenue').value.trim(),
    rating: parseFloat(document.getElementById('rating').value),
    completionPercentage: parseInt(document.getElementById('completion_percentage').value),
    description: document.getElementById('program_description').value.trim(),
    status: document.getElementById('program_status').value,
    isFeatured: document.getElementById('is_featured').value === "true",
    image: document.getElementById('program_image').files[0] || null,
  };

  console.log('New Program Created:', programData);
  // Optionally: you can send this programData to your server here using Fetch/AJAX.
}
</script>
{% endblock %}